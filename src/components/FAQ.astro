---
import SectionTitle from './SectionTitle.astro';

// FAQ component data
const faqItems = [
  {
    id: 'faq-1',
    question: '不動産投資は初心者でも始められますか？',
    answer: 'はい、初心者の方でも安心して始めていただけます。私たちが投資の基礎から丁寧にサポートし、リスクを最小限に抑えた投資プランをご提案いたします。経験豊富なスタッフが一からお手伝いいたします。'
  },
  {
    id: 'faq-2',
    question: 'どのような物件がおすすめですか？',
    answer: 'お客様の投資目的や予算に応じて最適な物件をご提案いたします。一般的には、駅近のマンションやオフィスビル、商業施設などが安定した収益を期待できる物件として人気があります。詳細は個別にご相談ください。'
  },
  {
    id: 'faq-3',
    question: '投資に必要な資金はどのくらいですか？',
    answer: '物件の種類や規模によって異なりますが、小規模な投資物件であれば数百万円から始めることができます。また、ローンを活用することで、より大きな物件への投資も可能です。資金計画についてもご相談ください。'
  },
  {
    id: 'faq-4',
    question: '物件の管理はどうなりますか？',
    answer: '物件の管理は私たちが代行いたします。入居者募集、家賃管理、修繕対応など、投資家の方に代わってすべての管理業務を行います。お客様は収益に集中していただけます。'
  }
];
---

<section class="py-24 bg-primary-back relative shadow-inner" id="faq">
  <div class="section-heading">FAQ</div>
  <div class="max-w-6xl mx-auto px-4">
    <SectionTitle title="FAQ" subtitle="よくある質問" />

    <!-- 質問リスト -->
    <div class="space-y-6">
      {faqItems.map((item) => (
        <div class="bg-primary-back rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 border border-white text-secondary overflow-hidden group">
          <button class="w-full px-6 py-4 text-left flex justify-between items-center">
            <h3 class="text-sm md:text-lg text-primary group-hover:text-secondary">{item.question}</h3>
            <span class="text-gray-500 text-xl">+</span>
          </button>
          <div class="px-6 p-4 hidden bg-white">
            <p class="text-primary leading-relaxed text-sm md:text-base">
              {item.answer}
            </p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
</style>

<script>
  // FAQ アコーディオン機能
  document.querySelectorAll('#faq button').forEach(button => {
    button.addEventListener('click', () => {
      const faqItem = button.closest('.group') as HTMLElement;
      const content = faqItem?.querySelector('.px-6.p-4') as HTMLElement;
      const icon = button.querySelector('span') as HTMLElement;
      
      if (content && icon) {
        if (content.classList.contains('hidden')) {
          // 開く
          content.classList.remove('hidden');
          button.classList.add('bg-white', 'border-b', 'border-gray-200');
          icon.textContent = '−';
        } else {
          // 閉じる
          content.classList.add('hidden');
          button.classList.remove('bg-white', 'border-b', 'border-gray-200');
          icon.textContent = '+';
        }
      }
    });
  });
</script>
